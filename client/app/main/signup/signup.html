
<form name="signupForm">
    <wizard on-finish="onWizardFinished()">
        <wz-step title="Welcome" canexit="canExitUsernameStep">
            <div layout="row" layout-align="center center" layout-padding>
                <md-whiteframe class="md-whiteframe-z2" flex="50" flex-sm="100">
                    <span class="headline">Welcome!</span>

                    <p class="text">Glad to <del>stab</del> meet you. Please set up an account to start playing.</p>

                    <md-input-container>
                        <label>Username</label>

                        <!-- TODO: Debounce and/or use updateOn. See ng-model-options. -->
                        <input type="text" name="username" ng-model="user.username" sg-valid-username required />

                        <div ng-messages="signupForm.username.$error">
                            <div ng-message="unique">This username is taken. :(</div>
                        </div>
                    </md-input-container>

                    <p style="text-align:center"><md-button wz-next class="md-raised md-accent">Continue</md-button></p>
                </md-whiteframe>
            </div>
        </wz-step>
        <wz-step title="Password" canexit="canExitPasswordStep">
            <div layout="row" layout-align="center center" layout-padding>
                <md-whiteframe class="md-whiteframe-z2" flex="50" flex-sm="100">
                    <p class="text">Now choose a good password:</p>

                    <md-input-container>
                        <label>Password</label>
                        <input type="password" name="password" ng-model="user.password" required />
                    </md-input-container>

                    <p class="text">And confirm it:</p>

                    <md-input-container>
                        <label>Password</label>
                        <input type="password" name="password2" ng-model="user.password2" required sg-compare-to="user.password" />

                        <div ng-messages="signupForm.password2.$error">
                            <div ng-message="compareTo">The passwords do not match.</div>
                        </div>
                    </md-input-container>

                    <p style="text-align:center"><md-button wz-next class="md-raised md-accent">Continue</md-button></p>
                </md-whiteframe>
            </div>
        </wz-step>
        <wz-step title="Email">
            <div layout="row" layout-align="center center" layout-padding>
                <md-whiteframe class="md-whiteframe-z2" flex="50" flex-sm="100">
                    <p class="text">Finally, provide your email address:</p>

                    <md-input-container>
                        <label>Email</label>
                        <input type="email" name="email" ng-model="user.email" required />
                        <div ng-messages="signupForm.email.$error">
                            <div ng-message="email">Not a valid email address.</div>
                        </div>
                    </md-input-container>

                    <p style="text-align:center"><md-button ng-disabled="signupForm.$invalid" wz-finish class="md-raised md-accent">Submit</md-button></p>
                </md-whiteframe>
            </div>
        </wz-step>
    </wizard>
</form>
